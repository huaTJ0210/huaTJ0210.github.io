<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="iOS基础," />





  <link rel="alternate" href="/atom.xml" title="華" type="application/atom+xml" />






<meta name="description" content="UIButton的简介
A UIButton object is a view that executes your custom code in response to user interactions. When you tap a button, or select a button that has focus, the button performs any actions attac">
<meta property="og:type" content="article">
<meta property="og:title" content="UIButton">
<meta property="og:url" content="http://yoursite.com/2014/09/08/UIKIT-UIButton/index.html">
<meta property="og:site_name" content="華">
<meta property="og:description" content="UIButton的简介
A UIButton object is a view that executes your custom code in response to user interactions. When you tap a button, or select a button that has focus, the button performs any actions attac">
<meta property="og:updated_time" content="2018-06-23T03:58:15.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="UIButton">
<meta name="twitter:description" content="UIButton的简介
A UIButton object is a view that executes your custom code in response to user interactions. When you tap a button, or select a button that has focus, the button performs any actions attac">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2014/09/08/UIKIT-UIButton/"/>





  <title>UIButton | 華</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">華</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">人无远虑必有近忧</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/09/08/UIKIT-UIButton/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="华子">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://tva2.sinaimg.cn/crop.0.0.639.639.180/8e8e3b1bjw8evv5nqax26j20hs0hrwf5.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="華">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">UIButton</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-08T16:00:34+08:00">
                2014-09-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h4 id="UIButton的简介"><a href="#UIButton的简介" class="headerlink" title="UIButton的简介"></a>UIButton的简介</h4><blockquote>
<p>A UIButton object is a view that executes your custom code in response to user interactions. When you tap a button, or select a button that has focus, the button performs any actions attached to it. You communicate the purpose of a button using a text label, an image, or both. The appearance of buttons is configurable, so you can tint buttons or format titles to match the design of your app. You can add buttons to your interface programmatically or using Interface Builder.</p>
<p>UIButton控件可以显示文本、图片、响应用户点击事件等，当UIButton处于不同的状态（UIControlStateNormal、UIControlStateHighlighted、UIControlStateDisabled、UIControlStateSelected等）下官方也提供了相应的API供开发者来做设置；</p>
</blockquote>
<a id="more"></a>
<h4 id="UIButton的基本用法"><a href="#UIButton的基本用法" class="headerlink" title="UIButton的基本用法"></a>UIButton的基本用法</h4><pre><code>CGFloat margin_left = 40.0f;
CGFloat margin_top  = 15.0f;
CGFloat btn_width = 120.0f;
CGFloat btn_height = 40.0f;

UIButton* fristBtn = [UIButton buttonWithType:UIButtonTypeCustom];
//正常状态显示文字
[fristBtn setTitle:@&quot;fristBtn&quot; forState:UIControlStateNormal];
// 选中状态下显示文字
[fristBtn setTitle:@&quot;fristBtn_Selected&quot; forState:UIControlStateSelected];
//设置背景图片
[fristBtn setBackgroundImage:[UIImage imageNamed:@&quot;xxx.png&quot;] forState:UIControlStateNormal];
[fristBtn setBackgroundColor:[UIColor orangeColor]];
[fristBtn setFrame:CGRectMake(margin_left, margin_top, btn_width, btn_height)];
// 添加点击事件
[fristBtn addTarget:self action:@selector(fristBtnAction:) forControlEvents:UIControlEventTouchUpInside];
[self.view addSubview:fristBtn];
</code></pre><h4 id="UIButton的组成-UIButtonLabel和UIImageView"><a href="#UIButton的组成-UIButtonLabel和UIImageView" class="headerlink" title="UIButton的组成 (UIButtonLabel和UIImageView)"></a>UIButton的组成 (UIButtonLabel和UIImageView)</h4><pre><code>UIButton* secondBtn = [UIButton buttonWithType:UIButtonTypeCustom];
[secondBtn setFrame:CGRectMake(margin_left, margin_top+CGRectGetMaxY(fristBtn.frame), btn_width, btn_height)];

// 不设置状态的情况下直接设置文本和图片的话不显示，直接打印UIButtonLabel和UIImageViewframe都未被设置
// secondBtn.titleLabel.text = @&quot;titleLabel&quot;;
// secondBtn.imageView.image = [UIImage imageNamed:@&quot;businessImg&quot;];

//只有在设置UIControlState的情况下文本和图片才显示
[secondBtn setTitle:@&quot;secondBtn&quot; forState:UIControlStateNormal];
secondBtn.titleLabel.font = [UIFont systemFontOfSize:13.0f];

UIImage* secondImage = [UIImage imageNamed:@&quot;buyOne&quot;];
// 60.000000,60.000000
NSLog(@&quot;%lf,%lf&quot;,secondImage.size.width,secondImage.size.width);
[secondBtn setImage:[UIImage imageNamed:@&quot;buyOne&quot;] forState:UIControlStateNormal];
[secondBtn.imageView setContentMode:UIViewContentModeScaleAspectFit];

// 打印设置之后的UIButtonLabel和UIImageView frame
// &lt;UIButtonLabel: 0x7ff96971e400; frame = (146 12; 52.5 16); text = &apos;secondBtn&apos;; opaque = NO; userInteractionEnabled = NO; layer = &lt;_UILabelLayer: 0x7ff96971e8a0&gt;&gt;
NSLog(@&quot;%@&quot;,secondBtn.titleLabel);
//&lt;UIImageView: 0x7ff96972f150; frame = (1.5 0; 144 40); clipsToBounds = YES; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7ff96972ed20&gt;&gt;
NSLog(@&quot;%@&quot;,secondBtn.imageView);
[self.view addSubview:secondBtn]; 
</code></pre><blockquote>
<p>UIButton设置title和image时必须设定UIControlState，不然控件内容不会显示；在不做任何设置的情况下UIButton会将imageView显示在左侧，imageView的frame在UIButton的bounds范围内会根据图片的大小设定；titleLabel的frame也是在UIButton的bounds范围内根据字体来动态的计算；</p>
</blockquote>
<h4 id="UIButton的三个属性contentEdgeInsets、titleEdgeInsets、imageEdgeInsets"><a href="#UIButton的三个属性contentEdgeInsets、titleEdgeInsets、imageEdgeInsets" class="headerlink" title="UIButton的三个属性contentEdgeInsets、titleEdgeInsets、imageEdgeInsets"></a>UIButton的三个属性contentEdgeInsets、titleEdgeInsets、imageEdgeInsets</h4><p>这个三个属性的类型都是<code>UIEdgeInsets</code>   </p>
<pre><code> typedef struct UIEdgeInsets {
 //四个值有正负之分，top为1代表y轴向下移动一位，为负代表y轴向上移动一位
CGFloat top, left, bottom, right;  // specify amount to inset (positive) for each of the edges. values can be negative to &apos;outset&apos;
} UIEdgeInsets;
</code></pre><ul>
<li>contentEdgeInsets ：设置该值可以改变内容显示的位置类似UILabel的NSTextAlignment;</li>
<li>titleEdgeInsets:该属性类似contentEdgeInsets；</li>
<li>imageEdgeInsets：设置该属性可调整左侧显示图片的位置；</li>
</ul>
<h4 id="如何设置内容在下方图片在上部的UIButton"><a href="#如何设置内容在下方图片在上部的UIButton" class="headerlink" title="如何设置内容在下方图片在上部的UIButton"></a>如何设置内容在下方图片在上部的UIButton</h4><pre><code>#import &quot;ImageUpTitleDownButton.h&quot;
@interface ImageUpTitleDownButton()
@end
@implementation ImageUpTitleDownButton

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        [self setup];
    }
    return self;
}

-(id)initWithCoder:(NSCoder *)decoder
{
    self = [super initWithCoder:decoder];
    if (self) {
        [self setup];
    }
    return self;
}

-(void)setup
{
    // 字体居中显示
    self.titleLabel.textAlignment = NSTextAlignmentCenter;
    //图片的显示居中
    [self.imageView setContentMode:UIViewContentModeScaleAspectFit];
}
//button 中imageVieW的位置
- (CGRect)imageRectForContentRect:(CGRect)contentRect
{
    CGFloat imageW =contentRect.size.width;
    CGFloat imageH = contentRect.size.height*0.7;
    CGFloat imageX = 0;
    CGFloat imageY = 0;
    return CGRectMake(imageX, imageY, imageW, imageH);
}

//button 中label 的位置
- (CGRect)titleRectForContentRect:(CGRect)contentRect
{
    CGFloat titleX = 0;
    CGFloat titleY =contentRect.size.height*0.7;
    CGFloat titleW = contentRect.size.width;
    CGFloat titleH = contentRect.size.height*0.3;

    return CGRectMake(titleX, titleY, titleW, titleH);
}

-(void)initWithTitle:(NSString*)title tintColor:(UIColor*)tintColor image:(NSString*)image fontSize:(CGFloat)fontSize{
    self.titleLabel.font = [UIFont systemFontOfSize:fontSize];
    [self setTitleColor:tintColor forState:UIControlStateNormal];
    [self setTitle:title forState:UIControlStateNormal];
    [self setImage:[UIImage imageNamed:image] forState:UIControlStateNormal];
}
@end
</code></pre><p> 具体使用时只需要调用<code>initWithTitle:(NSString*)title tintColor:(UIColor*)tintColor image:(NSString*)image fontSize:(CGFloat)fontSize</code>创建UIButton即可；类似的需求还包括调整UIButton中imageView和titleLabel的位置等这些需求都可以继承UIButton在子类中重写<code>imageRectForContentRect</code>和<code>titleRectForContentRect</code>两个方法即可；</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iOS基础/" rel="tag"># iOS基础</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/09/07/UIKIT-UILabel/" rel="next" title="UILabel">
                <i class="fa fa-chevron-left"></i> UILabel
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2014/10/03/OC基础之NSURLSession/" rel="prev" title="OC基础之NSURLSession">
                OC基础之NSURLSession <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://tva2.sinaimg.cn/crop.0.0.639.639.180/8e8e3b1bjw8evv5nqax26j20hs0hrwf5.jpg"
                alt="华子" />
            
              <p class="site-author-name" itemprop="name">华子</p>
              <p class="site-description motion-element" itemprop="description">人无远虑必有近忧</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">47</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#UIButton的简介"><span class="nav-number">1.</span> <span class="nav-text">UIButton的简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UIButton的基本用法"><span class="nav-number">2.</span> <span class="nav-text">UIButton的基本用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UIButton的组成-UIButtonLabel和UIImageView"><span class="nav-number">3.</span> <span class="nav-text">UIButton的组成 (UIButtonLabel和UIImageView)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UIButton的三个属性contentEdgeInsets、titleEdgeInsets、imageEdgeInsets"><span class="nav-number">4.</span> <span class="nav-text">UIButton的三个属性contentEdgeInsets、titleEdgeInsets、imageEdgeInsets</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#如何设置内容在下方图片在上部的UIButton"><span class="nav-number">5.</span> <span class="nav-text">如何设置内容在下方图片在上部的UIButton</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">华子</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
